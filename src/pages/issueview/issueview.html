<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{buildingname}}{{roomname}}</ion-title>
    <ion-buttons right>
      <button ion-button (click)="imgdownload()">图片下载
        <!--<ion-icon name="options"></ion-icon>-->
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label fixed>部位</ion-label>
      <ion-label item-right>{{position}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label fixed>检查项</ion-label>
      <ion-label item-right>{{checkitem}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label fixed>描述</ion-label>
      <ion-label item-right style=" white-space:normal">{{itdesc}}</ion-label>
    </ion-item>

    <ion-item>
      <ion-label fixed>补充说明</ion-label>
      <ion-label item-right style=" white-space:normal">{{descplus}}</ion-label>
    </ion-item>

    <ion-item>
      整改前照片
      <img *ngFor="let item of images" [src]="item" style="width:50px; margin-left:3px; margin-right:3px; height:50px" (click)="showBigImage(item,0)"
      />
      <!-- <ion-img width="50px" height="50px" *ngFor="let item of images"  src={{item}} style="margin:5px"></ion-img> -->
      <!-- <ion-img *ngFor="let item of images" src={{item}} width="80px" (click)="showBigImage(item,0)" style="margin:5px"></ion-img> -->
      <!-- <ion-img width="50px" src="assets/img/login.jpg" style="margin:5px"></ion-img>  -->
      <!-- <ion-thumbnail  *ngFor="let item of images" style="margin:5px;min-width:50px;min-height:50px">
        <img [src]="item" (click)="showBigImage(item,0)" style="width:50px; height:50px"/>
      </ion-thumbnail> -->
    </ion-item>

    <ion-item *ngIf="status != '非正常关闭'">
      整改后照片
      <img *ngFor="let item of imagesfixed" [src]="item" style="width:50px; margin-left:3px; margin-right:3px; height:50px" (click)="showBigImage(item,1)"
      />
      <!-- <ion-img width="50px" height="50px" *ngFor="let item2 of imagesfixed" src={{item2}}  (click)="showBigImage(item2,1)" style="margin:5px"></ion-img> -->
      <!-- <ion-thumbnail item-right *ngFor="let item of imagesfixed" style="margin:5px;min-width:50px;min-height:50px">        
        <img [src]="item" (click)="showBigImage(item,1)" style="width:50px; height:50px"/>
      </ion-thumbnail> -->
    </ion-item>

    <ion-item *ngIf="status==='非正常关闭'">
      关闭时照片
      <img *ngFor="let item of imagesclosed" [src]="item" style="width:50px; margin-left:3px; margin-right:3px; height:50px" (click)="showBigImage(item,2)"
      />
      <!-- <ion-img width="50px" height="50px" *ngFor="let item2 of imagesfixed" src={{item2}}  (click)="showBigImage(item2,1)" style="margin:5px"></ion-img> -->
      <!-- <ion-thumbnail item-right *ngFor="let item of imagesfixed" style="margin:5px;min-width:50px;min-height:50px">        
        <img [src]="item" (click)="showBigImage(item,1)" style="width:50px; height:50px"/>
      </ion-thumbnail> -->
    </ion-item>
 
    <ion-item *ngIf="status != '非正常关闭' && type === 4">
      验房退回照片
      <img *ngFor="let item of imagesreturn" [src]="item" style="width:50px; margin-left:3px; margin-right:3px; height:50px" (click)="showBigImage(item,3)"
      />
      <!-- <ion-img width="50px" height="50px" *ngFor="let item2 of imagesfixed" src={{item2}}  (click)="showBigImage(item2,1)" style="margin:5px"></ion-img> -->
      <!-- <ion-thumbnail item-right *ngFor="let item of imagesfixed" style="margin:5px;min-width:50px;min-height:50px">        
        <img [src]="item" (click)="showBigImage(item,1)" style="width:50px; height:50px"/>
      </ion-thumbnail> -->
    </ion-item>

    <ion-item>
      <ion-label style=" white-space:normal" fixed>承建商(整改单位)</ion-label>
      <ion-label style=" white-space:normal">{{vend}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label fixed>责任单位</ion-label>
      <ion-label style=" white-space:normal">{{resunit}}</ion-label>
    </ion-item>

    <ion-item>
      <ion-label>登记时间&nbsp;&nbsp;&nbsp;&nbsp;{{registertime}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>整改时限&nbsp;&nbsp;&nbsp;&nbsp;{{duetime}}</ion-label>
    </ion-item>
    <ion-item *ngIf="status != '非正常关闭'">
      <ion-label>整改时间&nbsp;&nbsp;&nbsp;&nbsp;{{fixtime}}</ion-label>
    </ion-item>
    <ion-item *ngIf="status==='非正常关闭'">
      <ion-label>关闭时间&nbsp;&nbsp;&nbsp;&nbsp;{{closedtime}}</ion-label>
    </ion-item>
    <ion-item *ngIf="status==='非正常关闭'">
      <ion-label fixed>关闭原因</ion-label>
      <ion-label item-right style=" white-space:normal">{{closedreason}}</ion-label>
    </ion-item>
  </ion-list>
  <!--</div>-->

  <!--<div id="actionbtn" *ngIf="showbutton" >
  <button ion-button block (click)="passclick()">通过</button>
  <button *ngIf="status==='已整改'" ion-button block color="danger" (click)="rejectclick()">退回</button>  
  <button ion-button  block color="energized" (click)="closedclick()">非正常关闭</button>
  <button ion-button block color="dark" (click)="cancelclick()">作废</button>  
  </div> -->
</ion-content>

<ion-footer id="actionbtn" *ngIf="showbutton">
  <div id="footbar">
    <table style="width:100%;">
      <tr>
        <td *ngIf="status==='待派单' && issuelist.IssueId === '新增问题'">
          <button ion-button full (click)="deleteclick()" style="padding:0;margin:0">删除</button>
        </td>
        <td *ngIf="userrole.indexOf('A3') != -1">
          <button ion-button color="energized" full (click)="closedclick()" style="padding:0;margin:0">非正常关闭</button>
        </td>
        <td *ngIf="status==='已整改' && userrole.indexOf('A5') != -1">
          <button ion-button full color="danger" (click)="rejectclick()" style="padding:0;margin:0">退回</button>
        </td>
        <td *ngIf="userrole.indexOf('A4') != -1">
          <button ion-button full (click)="passclick()" style="padding:0;margin:0">通过</button>
        </td>
      </tr>
    </table>
  </div>
</ion-footer>